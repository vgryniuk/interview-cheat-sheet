# Stream API

**Stream API** - механізм обробки даних у функціональному стилі в java8. Дозволяє спростити обробку даних. Найчастіше застосовується для обробки колекцій та файлів, але може бути застосований до будь-якого джерела даних. Ключовим поняттям Stream API є потік **stream** - можливість почергового (або одночасного) отримання елемента даних для подальшої обробки. Stream є альтернативою до ітераторів (iterator). В той час, як ітератор є зовнішньою процедурою перебору даних в колекції, стрім є методом внутрішнього ітерування.

**Різниця між Stream та  Iterator**  Різниця між зовнішньою та внутрішньою ітерацією з точки зору реалізації є інтерфейси, що лежать в основі цих механізмів. Для зовнішньої реалізації використовують `Iterator<T>`, а для внутрішньої `Spliterator<T>`.

StreamAPI побудований на основі інтерфейсу `BaseStream<T, S extends BaseStream<T,S>>`, в ньому визначені методи для створення і роботи з потоками даних. Ці методи можна поділити на дві категорії:
* **Проміжні (intermediate)** - обробляють елементи що поступають, і повертають stream. Проміжних методів може бути кілька. Створюють послідовність операцій по якій обробляються дані. Умовно можна поділити по функціоналу на настіпні карегорії: фільтрація, зміна, впорядкування даних. 
* **Термінальні (terminal)** - обробляють елементи та завершують ланцюжок обробки стріма. Термінальний метод може бути лиш один. За функціональністю можна умовно розділити на: акумуляція даних, збереження даних, генерація результатів на основі даних.

Методи BaseStream: `void close()`, `boolean isParallel()`, `Iterator<T> iterator()` -  термінальний, `S (Stream) onClose()`, `S parallel()`, `S sequential()`, `Spliterator<T> spliterator()` - термінальний, `S unordered()`.

На основі `BaseStream` та його методів, створений `Stream<T>`.

**Як створити Stream**
* Collection - `stream()`, `parallelStream()`.
* Array - `Array.stream(Object[])`.
* Static methods - `IntStream.range(int, int)`, `StreamOf(Object[])`.
* File - `File.lines()`.

---



